<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ù„Ø¹Ø§Ø¨ PC - DS STORE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --page-color: #ffd700; --bg-black: #0a0a0a; --bg-card: #141414; --text-white: #ffffff; --header-bg: #1a1a2e; --search-bg: #252539; --text-gray: #a0a0b0; --header-purple: #8a63e5; }
        body { font-family: 'Cairo', sans-serif; margin: 0; background-color: var(--bg-black); color: var(--text-white); }
        .custom-header { background-color: var(--header-bg); padding: 10px 40px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--page-color); position: sticky; top: 0; z-index: 1000; }
        .logo { font-size: 24px; font-weight: 700; color: white; text-decoration: none; display: flex; align-items: center; gap: 10px; }
        .logo-icon { background-color: var(--page-color); color: #000; padding: 5px 10px; border-radius: 10px; }
        .header-center { flex-grow: 1; display: flex; justify-content: center; }
        .nav-link { color: var(--text-gray); text-decoration: none; font-weight: 600; margin: 0 15px; transition: 0.3s; padding-bottom: 5px; font-size: 16px; }
        .nav-link:hover { color: white; }
        .nav-link.active { color: white; border-bottom: 3px solid var(--page-color); }
        .header-left { display: flex; align-items: center; gap: 15px; }
        .search-container { position: relative; }
        .search-input { background-color: var(--search-bg); border: none; padding: 10px 35px 10px 15px; border-radius: 25px; color: white; width: 250px; outline: none; font-family: 'Cairo'; }
        .search-icon { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: var(--text-gray); }
        .action-btn { background-color: var(--header-purple); color: white; text-decoration: none; padding: 8px 20px; border-radius: 25px; display: flex; align-items: center; gap: 8px; font-weight: 600; font-size: 14px; transition: 0.3s; border: none; cursor: pointer; }
        .action-btn:hover { filter: brightness(1.2); transform: translateY(-2px); }
        .cart-count { background-color: rgba(0,0,0,0.2); padding: 2px 8px; border-radius: 50%; font-size: 12px; margin-left: 5px; }

        /* Payment Modal CSS */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.85); backdrop-filter: blur(5px); justify-content: center; align-items: center; }
        .modal-content { background-color: #150029; background-image: linear-gradient(to bottom, #1e0b36, #150029); padding: 0; border-radius: 20px; width: 90%; max-width: 550px; text-align: center; position: relative; box-shadow: 0 10px 40px rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0.1); color: white; overflow: hidden; }
        .modal-header { padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; justify-content: space-between; align-items: center; }
        .close { color: #aaa; font-size: 24px; font-weight: bold; cursor: pointer; transition: 0.3s; } .close:hover { color: white; }
        .product-summary { padding: 20px; background-color: rgba(255,255,255,0.02); margin: 15px; border-radius: 12px; display: flex; align-items: center; gap: 15px; }
        .product-summary img { width: 80px; height: 50px; object-fit: cover; border-radius: 8px; }
        .summary-text { text-align: right; flex-grow: 1; } .summary-text h3 { margin: 0; font-size: 16px; color: #fff; } .summary-text p { margin: 5px 0 0; font-size: 12px; color: #aaa; }
        .price-tag { background-color: #2d1b4e; color: #ffd700; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 14px; display: inline-block; margin: 10px 0; border: 1px solid rgba(255, 215, 0, 0.3); }
        .modal-body { padding: 0 30px 30px; }
        .form-group { margin-bottom: 15px; text-align: right; } .form-group label { display: block; margin-bottom: 8px; font-size: 13px; color: #ccc; }
        .custom-input, .payment-select { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #3d2c5e; background-color: #231140; color: white; font-family: 'Cairo'; outline: none; box-sizing: border-box; transition: 0.3s; } .custom-input:focus { border-color: #6c5ce7; }
        .pay-btn { background-color: #ffc107; color: #000; width: 100%; padding: 14px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; font-family: 'Cairo'; margin-top: 10px; transition: 0.3s; box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3); } .pay-btn:hover { background-color: #e0a800; transform: translateY(-2px); }
        .modal-footer-note { font-size: 11px; color: #777; margin-top: 15px; }
        
        /* Payment Info Box */
        .payment-info-box { display: none; margin-top:10px; padding:15px; border:1px solid var(--page-color); border-radius:8px; background:rgba(255, 255, 255, 0.05); color:white; text-align: center; }
        .payment-info-label { margin:0; font-size:12px; color:#ccc; }
        .payment-info-value { margin:5px 0 0; font-size:18px; font-weight:bold; color:var(--page-color); direction:ltr; }
        .telda-qr { width: 100px; height: 100px; margin-top: 10px; border-radius: 10px; border: 2px solid white; }

        /* Auth Modals CSS */
        .auth-modal { display: none; position: fixed; z-index: 3000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); backdrop-filter: blur(8px); justify-content: center; align-items: center; font-family: 'Cairo'; }
        .auth-content { background: linear-gradient(180deg, #2b1055 0%, #150029 100%); border: 1px solid rgba(255,255,255,0.1); padding: 40px; border-radius: 20px; width: 90%; max-width: 400px; text-align: center; color: white; position: relative; box-shadow: 0 0 50px rgba(108, 92, 231, 0.2); }
        .auth-close { position: absolute; top: 15px; left: 20px; font-size: 24px; cursor: pointer; color: #aaa; transition: 0.3s; } .auth-close:hover { color: white; }
        .auth-logo i { font-size: 40px; color: #fff; margin-bottom: 10px; } .auth-title { font-size: 20px; font-weight: bold; margin-bottom: 10px; color: #ffd700; } .auth-subtitle { font-size: 13px; color: #ccc; margin-bottom: 30px; line-height: 1.6; }
        .auth-input { width: 100%; padding: 12px; margin-bottom: 15px; border-radius: 8px; border: 1px solid #4a3b70; background-color: #2a1b4a; color: white; font-family: 'Cairo'; outline: none; box-sizing: border-box; text-align: right; } .auth-input:focus { border-color: #6c5ce7; }
        .btn-auth-outline { background: transparent; border: 2px solid white; color: white; width: 100%; padding: 12px; border-radius: 8px; font-size: 15px; font-weight: bold; cursor: pointer; margin-bottom: 15px; transition: 0.3s; font-family: 'Cairo'; } .btn-auth-outline:hover { background: rgba(255,255,255,0.1); }
        .btn-auth-yellow { background-color: #ffc107; color: black; border: none; width: 100%; padding: 12px; border-radius: 8px; font-size: 15px; font-weight: bold; cursor: pointer; transition: 0.3s; font-family: 'Cairo'; } .btn-auth-yellow:hover { background-color: #e0a800; transform: scale(1.02); }
        .btn-auth-green { background-color: #2ecc71; color: white; border: none; width: 100%; padding: 12px; border-radius: 8px; font-size: 15px; font-weight: bold; cursor: pointer; margin-top: 10px; transition: 0.3s; font-family: 'Cairo'; } .btn-auth-green:hover { background-color: #27ae60; }
        .btn-auth-google { background-color: white; color: #333; border: none; width: 100%; padding: 10px; border-radius: 8px; font-size: 14px; font-weight: bold; cursor: pointer; margin-top: 20px; display: flex; align-items: center; justify-content: center; gap: 10px; font-family: 'Cairo'; } .btn-auth-google:hover { background-color: #f1f1f1; }
        .auth-divider { margin: 20px 0; color: #777; font-size: 12px; position: relative; } .auth-divider::before, .auth-divider::after { content: ""; position: absolute; top: 50%; width: 40%; height: 1px; background: #444; } .auth-divider::before { left: 0; } .auth-divider::after { right: 0; }
        .auth-link { display: block; margin-top: 15px; color: #ffd700; text-decoration: none; font-size: 13px; cursor: pointer; } .auth-link:hover { text-decoration: underline; }

        .container { max-width: 1200px; margin: 40px auto; padding: 20px; }
        .page-title { text-align: center; color: var(--page-color); font-size: 2.5rem; margin-bottom: 40px; }
        .products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; }
        .product-card { background-color: var(--bg-card); border: 1px solid #333; border-radius: 15px; overflow: hidden; transition: 0.3s; text-align: center; padding-bottom: 20px; }
        .product-card:hover { border-color: var(--page-color); transform: translateY(-10px); }
        .product-image { width: 100%; height: 220px; object-fit: cover; background-color: #222; }
        .product-info h3 { margin: 15px 0 5px; color: #fff; font-size: 1.2rem; }
        .price { color: var(--page-color); font-weight: bold; font-size: 1.4rem; display: block; margin-bottom: 15px; }
        .buy-btn { background: transparent; color: var(--page-color); border: 2px solid var(--page-color); padding: 8px 30px; border-radius: 25px; cursor: pointer; font-weight: bold; transition: 0.3s; font-family: 'Cairo'; }
        .buy-btn:hover { background-color: var(--page-color); color: black; }
        
        footer { border-top: 2px solid #333; padding: 30px; text-align: center; background-color: #000; color: #777; margin-top: 50px; }
    </style>
</head>
<body>

    <header class="custom-header">
        <div class="header-right"><a href="main.html" class="logo">DS STORE <i class="fas fa-gamepad logo-icon"></i></a></div>
        <div class="header-center"><nav>
            <a href="main.html" class="nav-link">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="games.html" class="nav-link active">Ø£Ù„Ø¹Ø§Ø¨ PC</a>
            <a href="subscriptions.html" class="nav-link">Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</a>
            <a href="charging.html" class="nav-link">Ø´Ø­Ù†</a>
            <a href="discord.html" class="nav-link">Nitro</a>
        </nav></div>
        <div class="header-left">
            <div class="search-container"><i class="fas fa-search search-icon"></i><input type="text" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø§Ù„Ø¹Ø§Ø¨..."></div>
            <a href="#" class="action-btn"><span class="cart-count">0</span>Ø§Ù„Ø³Ù„Ù‡ <i class="fas fa-shopping-cart"></i></a>
            <a href="#" class="action-btn">Ø·Ù„Ø¨Ø§ØªÙŠ <i class="fas fa-box-open"></i></a>
            <a href="#" class="action-btn" id="loginBtn" onclick="openAuthMain()" style="background-color: transparent; border: 1px solid var(--page-color); color: var(--page-color);"><i class="fas fa-user"></i> Ø¯Ø®ÙˆÙ„</a>
        </div>
    </header>

    <div class="container">
        <h1 class="page-title">Ø£Ø­Ø¯Ø« Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±</h1>
        <div class="products-grid">
            <div class="product-card"><img src="gta.jpg" alt="GTA V" class="product-image"><div class="product-info"><h3>GTA V Premium</h3><span class="price">450 EGP</span><button class="buy-btn" onclick="openModal('GTA V Premium', '450 EGP', 'gta.jpg')">Ø´Ø±Ø§Ø¡</button></div></div>
            <div class="product-card"><img src="fc24.jpg" alt="FC 24" class="product-image"><div class="product-info"><h3>FC 24 Standard</h3><span class="price">1200 EGP</span><button class="buy-btn" onclick="openModal('FC 24', '1200 EGP', 'fc24.jpg')">Ø´Ø±Ø§Ø¡</button></div></div>
            <div class="product-card"><img src="rdr2.jpg" alt="Red Dead 2" class="product-image"><div class="product-info"><h3>Red Dead Redemption 2</h3><span class="price">850 EGP</span><button class="buy-btn" onclick="openModal('RDR 2', '850 EGP', 'rdr2.jpg')">Ø´Ø±Ø§Ø¡</button></div></div>
            <div class="product-card"><img src="minecraft.jpg" alt="Minecraft" class="product-image"><div class="product-info"><h3>Minecraft Java & Bedrock</h3><span class="price">900 EGP</span><button class="buy-btn" onclick="openModal('Minecraft', '900 EGP', 'minecraft.jpg')">Ø´Ø±Ø§Ø¡</button></div></div>
        </div>
    </div>

    <div id="buyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><span class="close" onclick="closeModal()">&times;</span><h3 style="margin:0; font-size:18px;">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h3></div>
            <div class="product-summary"><img id="modal-img" src="" alt="Product"><div class="summary-text"><h3 id="modal-title">...</h3><p>Ø§Ù„Ù…Ù†ØµØ©: <i class="fas fa-check-circle"></i> Digital Code</p><div class="price-tag" id="modal-price">...</div></div></div>
            <div class="modal-body">
                <form id="purchaseForm" action="https://formspree.io/f/mvzprejr" method="POST">
                    <input type="hidden" name="Product_Name" id="hidden-product"><input type="hidden" name="Product_Price" id="hidden-price">
                    
                    <div class="form-group">
                        <label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</label>
                        <select name="Payment_Method" id="paymentSelect" class="payment-select" onchange="updatePaymentInfo()">
                            <option value="Vodafone Cash">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ - Ù…Ø­ÙØ¸Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</option>
                            <option value="InstaPay">InstaPay</option>
                            <option value="Telda">Telda</option>
                        </select>
                        
                        <div id="vodafoneInfo" class="payment-info-box" style="display:block;">
                            <p class="payment-info-label">ÙŠØ±Ø¬Ù‰ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©:</p>
                            <p class="payment-info-value">+20 109 449 7558</p>
                        </div>
                        <div id="instapayInfo" class="payment-info-box" style="display:none;">
                            <p class="payment-info-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯ÙØ¹ (IPA):</p>
                            <p class="payment-info-value">ekwmm@instapay</p>
                        </div>
                        <div id="teldaInfo" class="payment-info-box" style="display:none;">
                            <p class="payment-info-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Username):</p>
                            <p class="payment-info-value">@eyadkadry</p>
                            <img src="telda-qr.jpeg" alt="Telda QR" class="telda-qr">
                        </div>
                    </div>

                    <div class="form-group"><input type="email" name="Email" class="custom-input" placeholder="Ø£Ø¯Ø®Ù„ Ø¥ÙŠÙ…ÙŠÙ„Ùƒ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª" required></div>
                    <div class="form-group"><input type="text" name="Player_ID" class="custom-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ / Discord ID Ù„Ù„ØªÙˆØ§ØµÙ„" required></div>
                    <button type="submit" class="pay-btn">Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø¯ÙØ¹</button>
                    <p id="status" class="status-msg" style="margin-top:10px; font-size:13px;"></p>
                    <p class="modal-footer-note">ØªØ³Ù„ÙŠÙ… ÙÙˆØ±ÙŠ ÙˆØ¢Ù…Ù† 100% | Powered by DS STORE</p>
                </form>
            </div>
        </div>
    </div>

    <div id="authMainModal" class="auth-modal"><div class="auth-content"><span class="auth-close" onclick="closeAuth()">&times;</span><div class="auth-logo"><i class="fas fa-store"></i></div><h2 class="auth-title">DS STORE Account</h2><p class="auth-subtitle">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø§Ù„Ø¢Ù† Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø·Ù„Ø¨Ø§ØªÙƒ ÙˆØ¹Ø±ÙˆØ¶Ùƒ Ø§Ù„Ø®Ø§ØµØ©.</p><button class="btn-auth-outline" onclick="openLogin()">âœ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button><button class="btn-auth-yellow" onclick="openSignup()">+ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button></div></div>
    <div id="loginModal" class="auth-modal"><div class="auth-content"><span class="auth-close" onclick="closeAuth()">&times;</span><h2 class="auth-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2><form onsubmit="handleLogin(event)"><input type="email" id="loginEmail" class="auth-input" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required><input type="password" class="auth-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required><button type="submit" class="btn-auth-green">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button></form><div class="auth-divider">Ø£Ùˆ</div><button class="btn-auth-google" onclick="googleLogin()"><i class="fab fa-google"></i> Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Google</button><a class="auth-link" onclick="openSignup()">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</a></div></div>
    <div id="signupModal" class="auth-modal"><div class="auth-content"><span class="auth-close" onclick="closeAuth()">&times;</span><h2 class="auth-title">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2><form onsubmit="handleSignup(event)"><input type="text" class="auth-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required><input type="email" id="signupEmail" class="auth-input" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required><input type="password" class="auth-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required><button type="submit" class="btn-auth-green">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button></form><div class="auth-divider">Ø£Ùˆ</div><button class="btn-auth-google" onclick="googleLogin()"><i class="fab fa-google"></i> Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Google</button><a class="auth-link" onclick="openLogin()">Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></div></div>

    <script>
        function openModal(t,p,i){
            document.getElementById('buyModal').style.display='flex';
            document.getElementById('modal-title').innerText=t;
            document.getElementById('modal-price').innerText=p;
            document.getElementById('hidden-product').value=t;
            document.getElementById('hidden-price').value=p;
            document.getElementById('modal-img').src=i||'https://via.placeholder.com/80';
            document.getElementById('status').innerText="";
            document.getElementById('paymentSelect').value = "Vodafone Cash";
            updatePaymentInfo();
        }
        function closeModal(){document.getElementById('buyModal').style.display='none';}
        
        function updatePaymentInfo() {
            var select = document.getElementById('paymentSelect');
            var selected = select.value;
            document.getElementById('vodafoneInfo').style.display = 'none';
            document.getElementById('instapayInfo').style.display = 'none';
            document.getElementById('teldaInfo').style.display = 'none';
            if (selected === 'Vodafone Cash') document.getElementById('vodafoneInfo').style.display = 'block';
            else if (selected === 'InstaPay') document.getElementById('instapayInfo').style.display = 'block';
            else if (selected === 'Telda') document.getElementById('teldaInfo').style.display = 'block';
        }

        window.onclick = function(e) { if(e.target==document.getElementById('buyModal'))closeModal(); if(e.target.classList.contains('auth-modal'))closeAuth(); }

        var form = document.getElementById("purchaseForm");
        form.addEventListener("submit",async function(e){e.preventDefault();var s=document.getElementById("status");s.innerText="Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„...";s.style.color="#ffd700";fetch(e.target.action,{method:form.method,body:new FormData(e.target),headers:{'Accept':'application/json'}}).then(r=>{if(r.ok){s.innerText="âœ… ØªÙ… Ø§Ù„Ø·Ù„Ø¨!";s.style.color="#00b894";form.reset();setTimeout(closeModal,3000);}else{s.innerText="Ø®Ø·Ø£.";}}).catch(e=>{s.innerText="Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„!";});});
    </script>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
      import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";

      const firebaseConfig = { apiKey: "AIzaSyD7O7bBdhWWsXDfG7jblUTvBDwbOjN_0R0", authDomain: "ds-store-4c11a.firebaseapp.com", projectId: "ds-store-4c11a", storageBucket: "ds-store-4c11a.firebasestorage.app", messagingSenderId: "346002347794", appId: "1:346002347794:web:66350c294d75d0acc6c5cb" };
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const provider = new GoogleAuthProvider();

      window.openAuthMain = function () { closeAuth(); document.getElementById("authMainModal").style.display = "flex"; };
      window.openLogin = function () { closeAuth(); document.getElementById("loginModal").style.display = "flex"; };
      window.openSignup = function () { closeAuth(); document.getElementById("signupModal").style.display = "flex"; };
      window.closeAuth = function () { document.getElementById("authMainModal").style.display = "none"; document.getElementById("loginModal").style.display = "none"; document.getElementById("signupModal").style.display = "none"; };

      window.handleLogin = async function (e) { e.preventDefault(); const email = document.getElementById("loginEmail").value; const password = e.target.querySelector("input[type=password]").value; try { await signInWithEmailAndPassword(auth, email, password); closeAuth(); alert("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­"); } catch (err) { alert("âŒ " + err.message); } };
      window.handleSignup = async function (e) { e.preventDefault(); const email = document.getElementById("signupEmail").value; const password = e.target.querySelector("input[type=password]").value; try { await createUserWithEmailAndPassword(auth, email, password); closeAuth(); alert("ğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­"); } catch (err) { alert("âŒ " + err.message); } };
      window.googleLogin = async function () { try { await signInWithPopup(auth, provider); closeAuth(); } catch (err) { alert(err.message); } };
      window.logout = async function () { await signOut(auth); };

      onAuthStateChanged(auth, (user) => {
        const btn = document.getElementById("loginBtn");
        if (user) {
          btn.innerHTML = `<i class="fas fa-user-check"></i> ${user.email.split("@")[0]}`;
          btn.style.backgroundColor = "var(--page-color)";
          btn.style.color = "#000";
          btn.onclick = () => { if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ")) logout(); };
        } else {
          btn.innerHTML = `<i class="fas fa-user"></i> Ø¯Ø®ÙˆÙ„`;
          btn.style.backgroundColor = "transparent";
          btn.style.color = "var(--page-color)";
          btn.onclick = openAuthMain;
        }
      });
    </script>

    <script type="text/javascript">var Tawk_API=Tawk_API||{},Tawk_LoadStart=new Date();(function(){var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];s1.async=true;s1.src='https://embed.tawk.to/694811440b00e71980bdd281/1jd0o6tfe';s1.charset='UTF-8';s1.setAttribute('crossorigin','*');s0.parentNode.insertBefore(s1,s0);})();</script>
</body>
</html>