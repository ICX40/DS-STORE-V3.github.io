<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DS STORE V3 - Discord Nitro</title>
    <link rel="icon" href="icons/Favico.ico" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- Discord Theme Variables --- */
        :root { --page-color: #5865F2; --bg-body: linear-gradient(135deg, #05050a 0%, #10101a 100%); --glass-bg: rgba(20, 20, 40, 0.7); --glass-border: 1px solid rgba(88, 101, 242, 0.2); --text-white: #ffffff; --text-gray: #b0b0c0; }
        body { font-family: 'Cairo', sans-serif; margin: 0; background: var(--bg-body); color: var(--text-white); min-height: 100vh; overflow-x: hidden; }

        /* Header Desktop */
        .custom-header {
            background: rgba(5, 5, 5, 0.90);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            padding: 10px 20px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid rgba(255, 215, 0, 0.15);
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5); gap: 10px;
        }

        .logo {
            font-size: 22px; font-weight: 900; color: #fff; text-decoration: none;
            text-transform: uppercase; letter-spacing: 1px; display: flex; align-items: center; gap: 8px;
            flex-shrink: 0;
        }
        .logo i { color: var(--primary); filter: drop-shadow(0 0 8px var(--primary)); }

        .header-center { flex-grow: 1; display: flex; justify-content: center; }
        .nav-link {
            color: var(--text-muted); text-decoration: none; font-weight: 700; margin: 0 10px;
            transition: 0.3s; position: relative; font-size: 15px; white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active { color: #fff; text-shadow: 0 0 10px var(--primary); }
        .nav-link.active::after {
            content: ''; position: absolute; width: 100%; height: 2px; bottom: -5px; left: 0;
            background: var(--primary); box-shadow: 0 0 10px var(--primary);
        }

        .header-left { display: flex; align-items: center; gap: 8px; flex-shrink: 0; }
        .search-container { position: relative; }
        .search-input {
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            padding: 8px 30px 8px 15px; border-radius: 30px; color: white; 
            width: 170px; outline: none; font-family: var(--font-main); transition: 0.4s; font-size: 13px;
        }
        .search-input:focus { border-color: var(--primary); box-shadow: 0 0 15px var(--primary-glow); width: 220px; }
        .search-icon { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); color: #777; font-size: 12px; }

        .action-btn {
            background: transparent; color: var(--text-main); border: 1px solid rgba(255,255,255,0.2);
            padding: 6px 15px; border-radius: 30px; font-weight: 700; font-size: 13px;
            text-decoration: none; transition: 0.3s; display: flex; align-items: center; gap: 6px; position: relative;
            cursor: pointer; white-space: nowrap;
        }
        .action-btn:hover {
            border-color: var(--primary); background: var(--primary-glow); color: #fff;
            box-shadow: 0 0 20px var(--primary-glow); transform: translateY(-2px);
        }
        .cart-count {
            background: var(--primary); color: #000; padding: 2px 5px; border-radius: 50%;
            font-size: 10px; font-weight: bold; position: absolute; top: -8px; left: -5px;
        }
        /* Hero */
        .page-header { text-align: center; margin-bottom: 50px; background: linear-gradient(135deg, #101020, #2c2c54); padding: 80px 20px; border-bottom: 1px solid var(--page-color); position: relative; overflow: hidden; box-shadow: 0 0 30px rgba(88, 101, 242, 0.2); }
        .page-header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at center, rgba(88, 101, 242, 0.15), transparent); }
        .page-title { color: white; font-size: 3.5rem; margin: 0; text-shadow: 0 0 20px var(--page-color); position: relative; z-index: 1; font-weight: 900; }
        .page-subtitle { color: #ccc; font-size: 1.2rem; margin-top: 15px; position: relative; z-index: 1; }

        /* Products */
        .container { max-width: 1250px; margin: 0 auto; padding: 20px; }
        .section-heading { color: var(--page-color); border-right: 5px solid var(--page-color); padding-right: 15px; margin: 40px 0 20px; font-size: 1.8rem; font-weight: bold; }
        .products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; margin-bottom: 80px; }
        .product-card { background: var(--glass-bg); border: var(--glass-border); border-radius: 16px; overflow: hidden; transition: 0.4s; text-align: center; position: relative; padding-bottom: 20px; }
        .product-card:hover { transform: translateY(-10px); border-color: var(--page-color); box-shadow: 0 10px 40px rgba(88, 101, 242, 0.3); }
        .badge { position: absolute; top: 15px; left: 15px; background: #ffd700; color: black; padding: 5px 12px; border-radius: 20px; font-weight: bold; font-size: 0.8rem; z-index: 2; box-shadow: 0 0 10px rgba(0,0,0,0.5); }
        .product-image { width: 100%; height: 200px; object-fit: cover; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .product-info { padding: 20px; }
        .product-info h3 { margin: 10px 0; color: #fff; font-size: 1.4rem; font-weight: 700; }
        .product-desc { color: #aaa; font-size: 0.9rem; margin-bottom: 15px; }
        .price { color: var(--page-color); font-weight: 900; font-size: 1.5rem; display: block; margin-bottom: 20px; text-shadow: 0 0 10px rgba(88, 101, 242, 0.4); }
        .buy-btn { background: var(--page-color); color: white; border: none; padding: 12px 35px; border-radius: 50px; cursor: pointer; font-weight: bold; transition: 0.3s; font-size: 1rem; font-family: 'Cairo'; width: 80%; }
        .buy-btn:hover { filter: brightness(1.2); box-shadow: 0 0 20px var(--page-color); transform: scale(1.05); }

        /* Modal */
        .modal { display: none; position: fixed; z-index: 2200; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); backdrop-filter: blur(10px); justify-content: center; align-items: center; }
        .modal-content { background: #151520; border: 1px solid var(--page-color); border-radius: 20px; width: 95%; max-width: 900px; position: relative; overflow: hidden; box-shadow: 0 0 50px rgba(0,0,0,0.8); color: white; text-align: center; }
        .modal-header { padding: 20px 30px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; justify-content: space-between; align-items: center; }
        .modal-header h3 { color: var(--page-color); margin: 0; font-size: 20px; }
        .close { color: #aaa; font-size: 28px; cursor: pointer; transition: 0.3s; } .close:hover { color: var(--page-color); }
        .modal-body { padding: 0 30px 30px; }
        .product-summary { padding: 15px; background: rgba(255,255,255,0.03); margin: 20px 0; border-radius: 12px; display: flex; align-items: center; gap: 20px; border: 1px solid rgba(255,255,255,0.05); }
        .product-summary img { width: 70px; height: 70px; object-fit: cover; border-radius: 10px; border: 1px solid var(--page-color); }
        .summary-text { text-align: right; flex-grow: 1; } .summary-text h3 { margin: 0; font-size: 18px; color: #fff; }
        .price-tag { background: rgba(88, 101, 242, 0.15); color: var(--page-color); padding: 5px 15px; border-radius: 20px; font-weight: 800; border: 1px solid var(--page-color); display: inline-block; margin-top: 8px; }
        .checkout-layout { display: flex; gap: 30px; min-height: 350px; text-align: right; margin-top: 20px; }
        .payment-sidebar { flex: 1; display: flex; flex-direction: column; gap: 12px; border-left: 1px solid rgba(255,255,255,0.1); padding-left: 20px; }
        .payment-option { padding: 15px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; cursor: pointer; transition: 0.3s; font-weight: bold; display: flex; align-items: center; justify-content: space-between; color: #aaa; }
        .payment-option:hover { background: rgba(255,255,255,0.08); color: white; }
        .payment-option.active { background: var(--page-color); color: white; border-color: var(--page-color); box-shadow: 0 0 15px rgba(88, 101, 242, 0.4); }
        .payment-details-area { flex: 2; display: flex; flex-direction: column; }
        .payment-info-box { display: none; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 15px; padding: 25px; margin-bottom: 25px; text-align: center; }
        .payment-info-value { font-size: 24px; font-weight: 800; color: var(--page-color); margin: 15px 0; direction: ltr; font-family: monospace; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; } .full-width { grid-column: span 2; }
        .form-group label { display: block; margin-bottom: 8px; font-size: 13px; color: #bbb; }
        .custom-input, .payment-select { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.3); color: white; font-family: 'Cairo'; outline: none; box-sizing: border-box; transition: 0.3s; }
        .custom-input:focus { border-color: var(--page-color); box-shadow: 0 0 10px rgba(88, 101, 242, 0.3); }
        .pay-btn { background: var(--page-color); color: white; width: 100%; padding: 14px; border: none; border-radius: 12px; font-weight: 900; font-size: 16px; cursor: pointer; margin-top: auto; font-family: 'Cairo'; transition: 0.3s; box-shadow: 0 5px 20px rgba(0,0,0,0.3); }
        .pay-btn:hover { transform: translateY(-3px); box-shadow: 0 0 30px var(--page-color); }
        .modal-social-links { display: flex; justify-content: center; gap: 25px; margin-top: 15px; }
        .modal-social-link { font-size: 26px; transition: 0.3s; color: #777; } .modal-social-link:hover { transform: scale(1.2); color: white; }
        footer { border-top: 1px solid rgba(255,255,255,0.1); padding: 40px; text-align: center; background: #0a0a10; color: #666; font-size: 14px; margin-top: 50px; }

        .cart-item { display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.05); padding: 12px; margin-bottom: 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); }
        .cart-item img { width: 50px; height: 50px; border-radius: 8px; object-fit: cover; }
        .cart-item-info { flex-grow: 1; text-align: right; padding-right: 15px; }
        .cart-item-info h4 { margin: 0; font-size: 15px; color: white; } .cart-item-info span { font-size: 13px; color: var(--page-color); }
        .remove-btn { color: #ff4d4d; cursor: pointer; padding: 5px; font-size: 16px; }
        .add-to-cart-btn { background: transparent; border: 1px solid var(--page-color); color: var(--page-color); width: 100%; padding: 12px; border-radius: 10px; margin-top: 15px; cursor: pointer; font-weight: bold; font-family: 'Cairo'; transition: 0.3s; }
        .add-to-cart-btn:hover { background: var(--page-color); color: white; }
        .order-card { background: rgba(255,255,255,0.03); padding: 15px; margin-bottom: 10px; border-radius: 10px; border-right: 3px solid var(--page-color); }

        /* =========================================
           MOBILE RESPONSIVENESS & SIDEBAR (Ø§Ù„Ù…ØµØ­Ø­)
           ========================================= */
        .menu-toggle, .mobile-sidebar, .sidebar-overlay { display: none; }

        @media screen and (max-width: 768px) {
            /* 1. Ø§Ù„Ù‡ÙŠØ¯Ø± */
            .custom-header { padding: 15px; flex-direction: column; align-items: flex-start; gap: 15px; height: auto; }
            .header-right { width: 100%; display: flex; justify-content: space-between; align-items: center; flex-direction: row-reverse; }
            .logo { font-size: 20px; }
            .menu-toggle { display: flex; align-items: center; justify-content: center; font-size: 22px; color: white; cursor: pointer; background: rgba(255,255,255,0.1); width: 40px; height: 40px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; }
            .menu-toggle:active { transform: scale(0.9); background: var(--page-color); color: black; }
            .header-center { display: none; }
            .header-left { width: 100%; display: flex; flex-wrap: wrap; gap: 10px; }
            .search-container { width: 100%; order: 1; }
            .search-input { width: 100% !important; box-sizing: border-box; padding: 12px 40px 12px 15px; font-size: 14px; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); }
            .search-input:focus { background: #000; border-color: var(--page-color); }
            .action-btn { flex: 1; order: 2; justify-content: center; text-align: center; padding: 10px; font-size: 13px; white-space: nowrap; }

            /* 2. Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
            .mobile-sidebar { display: block; position: fixed; top: 0; left: -280px; width: 270px; height: 100%; background: linear-gradient(160deg, #050505 0%, #1a1a20 100%); z-index: 3000; transition: 0.4s; border-right: 1px solid var(--page-color); overflow-y: auto; }
            .mobile-sidebar.active { left: 0; }
            .sidebar-header { padding: 25px 20px; display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.02); border-bottom: 1px solid rgba(255,255,255,0.05); }
            .sidebar-header h3 { margin: 0; color: var(--page-color); font-size: 1.2rem; }
            .close-sidebar { font-size: 28px; cursor: pointer; color: #fff; background: rgba(255,255,255,0.1); width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 50%; }
            .sidebar-content { padding: 20px 15px; display: flex; flex-direction: column; gap: 12px; }
            .sidebar-link { color: #e0e0e0; text-decoration: none; font-size: 16px; padding: 14px; border-radius: 12px; background: rgba(255,255,255,0.03); display: flex; align-items: center; gap: 15px; font-weight: 600; }
            .sidebar-link i { width: 25px; text-align: center; color: var(--page-color); font-size: 18px; }
            .sidebar-link:hover { background: var(--page-color); color: #000; }
            .sidebar-link:hover i { color: #000; }
            .sidebar-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(4px); z-index: 2999; }
            .sidebar-overlay.active { display: block; }

            /* 3. Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
            .products-grid { grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 0 5px; }
            .product-image { height: 140px; }
            .product-info { padding: 12px; }
            .product-info h3 { font-size: 0.9rem; height: 35px; overflow: hidden; }
            .buy-btn, .show-packs-btn { padding: 8px 0; font-size: 13px; width: 100%; }

            /* 4. Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ (Ø§Ù„Ø­Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ) */
            .modal { align-items: flex-end; } 
            
            .modal-content { 
                width: 100%; 
                margin: 0; 
                max-height: 80vh; 
                border-radius: 20px 20px 0 0; 
                overflow-y: auto; 
                -webkit-overflow-scrolling: touch;
            }
            
            .modal-header {
                position: sticky; top: 0; z-index: 10;
                background: #151520; /* Ù„ÙˆÙ† Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ø§Ù„Ø¯Ø§ÙƒÙ† */
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }

            .checkout-layout { flex-direction: column; gap: 15px; }
            .payment-sidebar { flex-direction: row; overflow-x: auto; padding-bottom: 10px; border-left: none; gap: 10px; }
            .payment-option { min-width: 120px; flex-direction: column; text-align: center; font-size: 12px; padding: 10px; height: 70px; justify-content: center; }
            .form-grid { grid-template-columns: 1fr; gap: 10px; }
            .full-width { grid-column: span 1; }
            
            .modal-body { padding-bottom: 40px; }
        }
    </style>
</head>
<body>

    <header class="custom-header">
        <div class="header-right">
            <div class="menu-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></div>
            <a href="index.html" class="logo">DS STORE <i class="fas fa-gamepad logo-icon"></i></a>
        </div>
        <div class="header-center"><nav>
            <a href="index.html" class="nav-link">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="games.html" class="nav-link">Ø£Ù„Ø¹Ø§Ø¨ PC</a>
            <a href="subscriptions.html" class="nav-link">Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</a>
            <a href="charging.html" class="nav-link">Ø´Ø­Ù†</a>
            <a href="discord.html" class="nav-link active">Nitro</a>
                    <a href="contact.html" class="nav-link">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
        </nav></div>
        <div class="header-left">
            <div class="search-container"><i class="fas fa-search search-icon"></i><input type="text" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø§Ù„Ø¹Ø§Ø¨..."></div>
            <a href="#" class="action-btn" onclick="event.preventDefault(); toggleCart(true);"><span class="cart-count">0</span>Ø§Ù„Ø³Ù„Ù‡ <i class="fas fa-shopping-cart"></i></a>
            <a href="#" class="action-btn" onclick="event.preventDefault(); toggleOrders(true);">Ø·Ù„Ø¨Ø§ØªÙŠ <i class="fas fa-box-open"></i></a>
            <button id="loginBtn" class="action-btn" type="button">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
        </div>
    </header>

    <div class="container">
        <div class="page-header">
            <h1 class="page-title"><i class="fab fa-discord"></i> Ù…ØªØ¬Ø± Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</h1>
            <p class="page-subtitle">Ù†ÙŠØªØ±ÙˆØŒ Ø¨ÙˆØ³ØªØ§ØªØŒ ÙˆØ§Ø´ØªØ±Ø§ÙƒØ§Øª Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± - ØªØ³Ù„ÙŠÙ… ÙÙˆØ±ÙŠ</p>
        </div>
        
        <h2 class="section-heading">Discord Nitro (Gaming)</h2>
        <div class="products-grid">
            <div class="product-card"><span class="badge">Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹ ğŸ”¥</span><img src="discord/nitro-month.jpg" alt="Nitro Month" class="product-image"> <div class="product-info"><h3>Ù†ÙŠØªØ±Ùˆ Ø´Ù‡Ø± (Gaming)</h3><p class="product-desc">Ø§Ø´ØªØ±Ø§Ùƒ ÙƒØ§Ù…Ù„ Ù…Ø¹ 2 Ø¨ÙˆØ³Øª - ØªÙØ¹ÙŠÙ„ ÙÙˆØ±ÙŠ</p><span class="price">250 EGP</span><button class="buy-btn" onclick="openModal('Discord Nitro 1 Month', '250 EGP', 'discord/nitro-month.jpg')"><i class="fas fa-shopping-cart"></i> Ø´Ø±Ø§Ø¡</button></div></div>
            <div class="product-card"><img src="discord/nitro-3month.jpg" alt="Nitro 3 Months" class="product-image"><div class="product-info"><h3>Ù†ÙŠØªØ±Ùˆ 3 Ø´Ù‡ÙˆØ± (Gaming)</h3><p class="product-desc">Ø¹Ø±Ø¶ Ø®Ø§Øµ Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø©</p><span class="price">700 EGP</span><button class="buy-btn" onclick="openModal('Discord Nitro 3 Months', '700 EGP', 'discord/nitro-3month.jpg')"><i class="fas fa-shopping-cart"></i> Ø´Ø±Ø§Ø¡</button></div></div>
            <div class="product-card"><span class="badge" style="background: #eb4d4b; color: white;">ØªÙˆÙÙŠØ± ÙƒØ¨ÙŠØ± ğŸ’°</span><img src="discord/nitro-year.jpg" alt="Nitro Year" class="product-image"><div class="product-info"><h3>Ù†ÙŠØªØ±Ùˆ Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø© (Yearly)</h3><p class="product-desc">Ø§Ø´ØªØ±Ø§Ùƒ Ø³Ù†ÙˆÙŠ</p><span class="price">2200 EGP</span><button class="buy-btn" onclick="openModal('Discord Nitro 1 Year', '2200 EGP', 'discord/nitro-year.jpg')"><i class="fas fa-shopping-cart"></i> Ø´Ø±Ø§Ø¡</button></div></div>
        </div>
    </div>

    <div id="buyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><span class="close" onclick="closeModal()">&times;</span><h3>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h3></div>
            <div class="product-summary"><img id="modal-img" src="" alt="Product"><div class="summary-text"><h3 id="modal-title">...</h3><p>Ø§Ù„Ù…Ù†ØµØ©: <i class="fab fa-discord"></i> Discord</p><div class="price-tag" id="modal-price">...</div></div></div>
            <div class="modal-body">
                <form id="purchaseForm">
                    <input type="hidden" name="Product_Name" id="hidden-product"><input type="hidden" name="Product_Price" id="hidden-price">
                    <input type="hidden" name="Payment_Method" id="selectedPaymentMethod" value="Vodafone Cash">
                    <div class="checkout-layout">
                        <div class="payment-sidebar">
                            <label style="color:#fff; font-weight:bold; margin-bottom:10px;">ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹:</label>
                            <div class="payment-option active" onclick="selectPayment(this, 'Vodafone Cash')"><span>ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</span> <i class="fas fa-mobile-alt"></i></div>
                            <div class="payment-option" onclick="selectPayment(this, 'InstaPay')"><span>InstaPay</span> <i class="fas fa-university"></i></div>
                            <div class="payment-option" onclick="selectPayment(this, 'Telda')"><span>Telda</span> <i class="fas fa-credit-card"></i></div>
                        </div>
                        <div class="payment-details-area">
                            <div id="vodafoneInfo" class="payment-info-box" style="display:block;">
                                <p style="color:#aaa; font-size:14px; margin:0;">Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©:</p><div class="payment-info-value">01094497558</div><p style="color:#ff4d4d; font-size:12px; margin:0;">ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù‚Ø¨Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„</p>
                            </div>
                            <div id="instapayInfo" class="payment-info-box">
                                <p style="color:#aaa; font-size:14px; margin:0;">Ø¹Ù†ÙˆØ§Ù† (IPA):</p><div class="payment-info-value" style="text-transform:lowercase;">ekwmm@instapay</div>
                            </div>
                            <div id="teldaInfo" class="payment-info-box">
                                <p style="color:#aaa; font-size:14px; margin:0;">(Telda):</p><div class="payment-info-value">@eyadkadry</div>
                            </div>
                            <div class="form-grid">
                                <div class="form-group full-width"><label>Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª:</label><select id="agentSelect" class="payment-select"><option value="201156877865">Eyad Kadry +201156877865</option><option value="201097484520">Ma7mod Raslan +201097484520</option></select></div>
                                <div class="form-group"><label>Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:</label><input type="email" name="Email" class="custom-input" required placeholder="example@mail.com"></div>
                                <div class="form-group"><label>Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ ID / Ø±Ù‚Ù…Ùƒ:</label><input type="text" name="Player_ID" class="custom-input" required placeholder="Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ"></div>
                            </div>
                            <div class="modal-social-links"><a href="https://discord.com/users/958426747144122429" target="_blank" class="modal-social-link discord-icon"><i class="fa-brands fa-discord"></i></a><a href="https://wa.me/201156877865" target="_blank" class="modal-social-link whatsapp-icon"><i class="fa-brands fa-whatsapp"></i></a></div>
                        </div>
                    </div>
                    <button type="submit" class="pay-btn">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø´Ø±Ø§Ø¡ (WhatsApp)</button>
                    <p id="status" style="margin-top:10px; font-size:13px; color:#25D366; font-weight:bold; text-align:center;"></p>
                </form>
            </div>
        </div>
    </div>
    <div id="cartModal" class="modal"><div class="modal-content"><div class="modal-header"><span class="close" onclick="toggleCart(false)">&times;</span><h3><i class="fas fa-shopping-cart"></i> Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3></div><div class="modal-body"><div id="cartItemsWrapper" style="max-height: 300px; overflow-y: auto; margin-bottom: 15px;"></div><div style="border-top: 1px solid #333; padding-top: 15px;"><div style="display:flex; justify-content:space-between; margin-bottom:10px; font-weight:bold;"><span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span><span id="cartTotal" style="color: var(--page-color);">0 EGP</span></div><button onclick="checkoutCart()" class="pay-btn" style="background-color: #25D366; color: white;"><i class="fab fa-whatsapp"></i> Ø´Ø±Ø§Ø¡ ÙƒÙ„ Ø§Ù„Ø³Ù„Ø©</button><button onclick="clearCart()" style="background:transparent; border:none; color:#ff4d4d; margin-top:10px; cursor:pointer;">ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©</button></div></div></div></div>
    <div id="ordersModal" class="modal"><div class="modal-content"><div class="modal-header"><span class="close" onclick="toggleOrders(false)">&times;</span><h3><i class="fas fa-box-open"></i> Ø³Ø¬Ù„ Ø·Ù„Ø¨Ø§ØªÙƒ</h3></div><div class="modal-body"><div id="ordersWrapper" style="max-height: 400px; overflow-y: auto; text-align: right;"></div></div></div></div>

    <div class="mobile-sidebar" id="mobileSidebar">
        <div class="sidebar-header">
            <h3>Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h3>
            <span class="close-sidebar" onclick="toggleSidebar()">&times;</span>
        </div>
        <div class="sidebar-content">
            <a href="index.html" class="sidebar-link"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="games.html" class="sidebar-link"><i class="fas fa-gamepad"></i> Ø£Ù„Ø¹Ø§Ø¨ PC</a>
            <a href="subscriptions.html" class="sidebar-link"><i class="fas fa-crown"></i> Ø§Ø´ØªØ±Ø§ÙƒØ§Øª</a>
            <a href="charging.html" class="sidebar-link"><i class="fas fa-bolt"></i> Ø´Ø­Ù†</a>
            <a href="discord.html" class="sidebar-link"><i class="fab fa-discord"></i> Nitro</a>
        </div>
    </div>
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <script>
        function openModal(t,p,i){
            goToCheckout(t,p,i);
        }
        function goToCheckout(title, price, img){
            const item = { title: title, price: price, img: (img||''), from: (location.pathname||''), ts: Date.now() };
            localStorage.setItem('ds_checkout_item', JSON.stringify(item));
            window.location.href = 'checkout.html';
        }
        function closeModal(){document.getElementById('buyModal').style.display='none';}
        
        function selectPayment(element, method) {
            document.getElementById('selectedPaymentMethod').value = method;
            document.querySelectorAll('.payment-option').forEach(opt => opt.classList.remove('active'));
            if(element) element.classList.add('active');
            document.getElementById('vodafoneInfo').style.display = 'none';
            document.getElementById('instapayInfo').style.display = 'none';
            document.getElementById('teldaInfo').style.display = 'none';
            if(method === 'Vodafone Cash') document.getElementById('vodafoneInfo').style.display = 'block';
            else if(method === 'InstaPay') document.getElementById('instapayInfo').style.display = 'block';
            else if(method === 'Telda') document.getElementById('teldaInfo').style.display = 'block';
        }

        window.onclick = function(e) { if(e.target==document.getElementById('buyModal'))closeModal(); if(e.target==document.getElementById('cartModal'))toggleCart(false); if(e.target==document.getElementById('ordersModal'))toggleOrders(false); }
        const searchInput = document.querySelector('.search-input');
        if(searchInput) { searchInput.addEventListener('input', function(e) { const term = e.target.value.toLowerCase(); const products = document.querySelectorAll('.product-card'); products.forEach(card => { const title = card.querySelector('h3').textContent.toLowerCase(); card.style.display = title.includes(term) ? "block" : "none"; }); }); }
        
        function toggleSidebar(){ const s=document.getElementById('mobileSidebar'),o=document.getElementById('sidebarOverlay'); s.classList.toggle('active'); o.classList.toggle('active'); }

        let cart = JSON.parse(localStorage.getItem('ds_cart')) || [];
        function updateCartUI() { const countBadges = document.querySelectorAll('.cart-count'); countBadges.forEach(badge => badge.textContent = cart.length); localStorage.setItem('ds_cart', JSON.stringify(cart)); const wrapper = document.getElementById('cartItemsWrapper'); const totalEl = document.getElementById('cartTotal'); if(cart.length === 0) { wrapper.innerHTML = '<p style="color:#777; margin-top:20px;">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>'; totalEl.textContent = '0 EGP'; return; } let html = ''; let total = 0; cart.forEach((item, index) => { let priceNum = parseFloat(item.price.replace(/[^0-9.]/g, '')); total += priceNum; html += `<div class="cart-item"><div class="remove-btn" onclick="removeFromCart(${index})"><i class="fas fa-trash"></i></div><div class="cart-item-info"><h4>${item.name}</h4><span>${item.price}</span></div><img src="${item.img}" alt="img"></div>`; }); wrapper.innerHTML = html; totalEl.textContent = total + ' EGP'; }
        function addToCart(name, price, img) { cart.push({ name: name, price: price, img: img }); updateCartUI(); alert('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ…'); closeModal(); }
        function removeFromCart(index) { cart.splice(index, 1); updateCartUI(); }
        function clearCart() { if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©ØŸ')) { cart = []; updateCartUI(); } }
        function toggleCart(show) { document.getElementById('cartModal').style.display = show ? 'flex' : 'none'; if(show) updateCartUI(); }
        function checkoutCart() { if(cart.length === 0) return alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!'); let msg = "*Ø·Ù„Ø¨ Ø³Ù„Ø© Ù…Ø¬Ù…Ø¹ (DS STORE)* ğŸ›’\n------------------\n"; let total = 0; cart.forEach(item => { msg += `â–«ï¸ ${item.name} (${item.price})\n`; total += parseFloat(item.price.replace(/[^0-9.]/g, '')); }); msg += `------------------\nğŸ’° *Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${total} EGP\n\nÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª.`; var selectedAgent = document.getElementById("agentSelect").value; window.location.href = "https://wa.me/" + selectedAgent + "?text=" + encodeURIComponent(msg); }
        let orders = JSON.parse(localStorage.getItem('ds_orders')) || [];
        function saveOrderLocal(product, price, date) { orders.unshift({ product, price, date }); localStorage.setItem('ds_orders', JSON.stringify(orders)); }
        function toggleOrders(show) { const modal = document.getElementById('ordersModal'); modal.style.display = show ? 'flex' : 'none'; if(show) { const wrapper = document.getElementById('ordersWrapper'); if(orders.length === 0) { wrapper.innerHTML = '<p style="color:#777; text-align:center;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</p>'; return; } let html = ''; orders.forEach(order => { html += `<div class="order-card"><div class="order-header"><span>${order.date}</span><span style="color:#25D366"><i class="fas fa-check"></i> ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span></div><div class="order-details">${order.product} - ${order.price}</div></div>`; }); wrapper.innerHTML = html; } }

        document.addEventListener("DOMContentLoaded", () => {
            updateCartUI();
            const buyModalForm = document.getElementById('purchaseForm');
            if(buyModalForm) {
                const addToCartBtn = document.createElement('button'); addToCartBtn.type = 'button'; addToCartBtn.className = 'add-to-cart-btn'; addToCartBtn.innerHTML = '<i class="fas fa-cart-plus"></i> Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©';
                addToCartBtn.onclick = function() { const title = document.getElementById('hidden-product').value; const price = document.getElementById('hidden-price').value; const img = document.getElementById('modal-img').src; addToCart(title, price, img); };
                const submitBtn = buyModalForm.querySelector('.pay-btn'); buyModalForm.insertBefore(addToCartBtn, submitBtn);
                buyModalForm.addEventListener('submit', function(e) {
                    e.preventDefault(); 
                    const title = document.getElementById('hidden-product').value; 
                    const price = document.getElementById('hidden-price').value; 
                    const payment = document.getElementById('selectedPaymentMethod').value;
                    const email = buyModalForm.querySelector('input[name="Email"]').value; 
                    const playerId = buyModalForm.querySelector('input[name="Player_ID"]').value;
                    const agentText = document.getElementById("agentSelect").options[document.getElementById("agentSelect").selectedIndex].text;
                    const date = new Date().toLocaleDateString('ar-EG'); 
                    var s = document.getElementById("status"); s.innerText = "Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨..."; s.style.color = "#25D366";
                    const formData = new FormData(); formData.append("email", email); formData.append("message", `New Discord Order:\nProduct: ${title}\nPrice: ${price}\nPayment: ${payment}\nPlayer Info: ${playerId}\nAgent: ${agentText}`);
                    fetch("https://formspree.io/f/xkowqegr", { method: "POST", body: formData, headers: { 'Accept': 'application/json' } }).then(() => console.log("Email sent")).catch(err => console.error(err));
                    saveOrderLocal(title, price, date);
                    var message = `*Ø·Ù„Ø¨ Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ø¬Ø¯ÙŠØ¯ (DS STORE)* ğŸ›’\n-----------------------------\nğŸ›ï¸ *Ø§Ù„Ø¨Ø§Ù‚Ø©:* ${title}\nğŸ’° *Ø§Ù„Ø³Ø¹Ø±:* ${price}\nğŸ’³ *Ø§Ù„Ø¯ÙØ¹:* ${payment}\n-----------------------------\nğŸ‘¤ *Ø§Ù„Ø¹Ù…ÙŠÙ„:*\nğŸ“§ ${email}\nğŸ†” ${playerId}\n-----------------------------\nÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙ†ÙÙŠØ° âœ…`;
                    var selectedAgent = document.getElementById("agentSelect").value;
                    setTimeout(function() { window.location.href = "https://wa.me/" + selectedAgent + "?text=" + encodeURIComponent(message); }, 1500);
                });
            }
        });
    </script>
    <script type="text/javascript">var Tawk_API=Tawk_API||{},Tawk_LoadStart=new Date();(function(){var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];s1.async=true;s1.src='https://embed.tawk.to/694811440b00e71980bdd281/1jd0o6tfe';s1.charset='UTF-8';s1.setAttribute('crossorigin','*');s0.parentNode.insertBefore(s1,s0);})();</script>

  <script type="module" src="auth-modal.js"></script>

<script>
  // Auto-highlight the current page link in the header + sidebar
  (function(){
    function normalizeHref(href){
      if(!href) return "";
      const clean = href.split('#')[0].split('?')[0];
      return clean.split('/').pop();
    }

    function currentPage(){
      let p = (window.location.pathname || "").split('/').pop();
      p = p.split('#')[0].split('?')[0];
      if(!p) p = "index.html";
      return p;
    }

    function markActive(selector){
      const cur = currentPage();
      document.querySelectorAll(selector).forEach(a => {
        const target = normalizeHref(a.getAttribute('href'));
        if(!target) return;
        if(target === cur || (cur === "index.html" && (target === "" || target === "/"))){
          a.classList.add('active');
        }
      });
    }

    document.addEventListener('DOMContentLoaded', function(){
      markActive('a.nav-link');
      markActive('a.sidebar-link');
    });
  })();
</script>

</body>
</html>